reference https://github.com/sgrvinod/a-PyTorch-Tutorial-to-Object-Detection.git
 #  概念

 - 目标检测
 - SSD：single-shot detection
 早期的目标检测包括两个阶段：区域建议网络（进行目标定位）、分类器（检测建议区域中的目标类别）。从计算角度看，是相当耗时，且并不适用于实际场景的实时应用。SSD模型将定位和检测任务封装进一个单一的前项网络中，从而使得当部署在轻量化的硬件时，能够进行更快的检测
 
 - 多尺度特征图
 在图像分类任务中，预测是基于最终的卷积特征图-原始图像最小但最深的表示。在目标检测中，从中间卷积层中得到的特征图也是能够直接使用的，因为这些是原始图像上不同尺度的变现。因此一个固定尺寸的滤波器在不同特征图上进行卷积，能够检测不同大小的目标
 
 - 先验
 在特定特征图上的特定位置上定义的预计算的框boxes，即为先验。这些boxes有特定的横纵比和尺度（尺寸）。这些是通过仔细选择得到的，以便能够匹配数据集中目标bbox（ground-truth）的性质
 
 - multibox
 这是一个技巧，其将目标bbox的预测作为一个回归问题进行处理。其中被检测到的目标的坐标与其真值坐标进行回归。再有，对于每个预测到的box，为不同的类别是生成不同的得分。先验（上述）作为预测阶段的初始点，因为先验是在真值上建模得到的。因此一共有和先验一样多的预测框box，其中的大部分是不包含目标的。
其预测分为两个部分：1）包含或不包含目标的box的坐标，这是一个胡桂任务；2）这个box的对于不同目标类别的得分，包括背景（表示box中没有背景类），这是一个分类任务
 
 - hard negative mining
 没翻译
 
 - NMS非极大值抑制
 在任何一个给定的位置，多个先验可能重叠。因此产生于这些先验得到预测box可能实际上是同一个目标的重叠box，NMS就是通过抑制除了最大得分的那个box的剩下的所有box来去除冗余的预测

#  overview

 - 边界坐标
 - 中心坐标
 - IOU
 - multibox
 见上面
 
 - SSD
 SSD是一个全卷积网络，主要包含三个部分
 1）基础卷积：由存在的图像分类框架得到，主要提供低层次的特征图
 2）辅助卷积：连接在基础网络的顶部，提供高层次的特征图
 3）预测卷积：在这些特征图中定位和识别
 文章提出了两个模型SSD300和SSD512，数字表示的身世输入图像的尺寸。
##  基础卷积-part1
作者使用的是VGG16框架作为基础网络。文章建议使用在ILSVRC分类任务上预训练的模型。**其在pytorch中已经有实现**，选择其他的也行，但是要考虑计算量的需求。

该git-tutorial中，在预训练的网络中做作出了一些改变，来适应自己的目标检测任务。这些是出于逻辑性和必要性考虑的，以及一些方便性和偏好性。

 - 输入图像尺寸：300*300
 - 第3个poolinglayer，即进行维度减半的操作，使用的是ceil（向上取整）机制而取代默认的floor（向下）取整机制，来决定输出的尺寸。只要前面的特征图是奇数而不是偶数，那么就是有意义的。
 - 改进第5个poolinglayer，从原有的2*2kernel,2stride，编程3*3kernel,1stride。这使得对特征图不在进行维度减半操作
 - 并不需要全连接层（即分类），抛弃fc8，并将fc6和fc7变成全卷积层conv6和conv7

fc到卷积的变换
**值得注意的是当RGB拉伸变成1D时，组织顺序如git上所示，要特别看一下**
**这里可能要注意，虽然是一个2D卷积核，一般在定义的时候只定义不同卷积核的个数，单个卷积核的通道数自动与输入的特征图的通道相同，但是该卷积核的不同通道数上的参数都是不一样的**

##  基础卷积-part2

